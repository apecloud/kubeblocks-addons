apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "mongodbShard.cmScriptsName" . }}
  labels:
    {{- include "mongodb.labels" . | nindent 4 }}
data:
  mongodb-shard-setup.sh: |-
    #!/bin/bash

    DATA_VOLUME={{ .Values.dataMountPath }}
    {{- .Files.Get "scripts/mongodb-shard-setup.sh" | nindent 4 }}
  mongodb-shard-manage.sh: |-
    {{- .Files.Get "scripts/mongodb-shard-manage.sh" | nindent 4 }}
  backup-agent-setup.sh: |-
    {{- .Files.Get "scripts/backup-agent-setup.sh" | nindent 4 }}
  mongodb-mongos-setup.sh: |-
    #!/bin/bash

    DATA_VOLUME={{ .Values.dataMountPath }}
    {{- .Files.Get "scripts/mongodb-mongos-setup.sh" | nindent 4 }}
  mongodb-common.sh: |-
    {{- .Files.Get "scripts/mongodb-common.sh" | nindent 4 }}
  mongodb-member-leave.sh: |-
    {{- .Files.Get "scripts/mongodb-member-leave.sh" | nindent 4 }}
  mongodb-switchover.sh: |-
    {{- .Files.Get "scripts/mongodb-switchover.sh" | nindent 4 }}