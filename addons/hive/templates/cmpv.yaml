apiVersion: apps.kubeblocks.io/v1
kind: ComponentVersion
metadata:
  name: hive
  labels:
    {{- include "hive.labels" . | nindent 4 }}
  annotations:
    {{- include "hive.annotations" . | nindent 4 }}
spec:
  compatibilityRules:
    - releases:
        - metastaore-3.1.3
      compDefs:
        - hive-metastore
    - releases:
        - server2-3.1.3
      compDefs:
        - hive-server2
  releases:
    - name: metastaore-3.1.3
      serviceVersion: 3.1.3
      images:
        hive-metastore: "{{ .Values.hive.image.repository }}:{{ .Values.hive.image.tag }}"
    - name: server2-3.1.3
      serviceVersion: 3.1.3
      images:
        hive-server2: "{{ .Values.hive.image.repository }}:{{ .Values.hive.image.tag }}"