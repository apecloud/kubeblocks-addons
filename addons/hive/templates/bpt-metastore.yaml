apiVersion: dataprotection.kubeblocks.io/v1alpha1
kind: BackupPolicyTemplate
metadata:
  name: hive-metastore
  labels:
    {{- include "hive.labels" . | nindent 4 }}
spec:
  serviceKind: Hive
  compDefs:
   - hive-metastore
  backupMethods:
    - name: rebuild
      snapshotVolumes: false
      actionSetName: hive-metastore-rebuild
      targetVolumes:
        volumeMounts:
        - name: metadata
          mountPath: /hive
      env:
        - name: IMAGE_TAG
          valueFrom:
            versionMapping:
              - serviceVersions:
                  - "4.0.1"
                mappedValue: "4.0.1"
              - serviceVersions:
                  - "3.1.3"
                mappedValue: "3.1.3"
              - serviceVersions:
                  - "3.1.2"
                mappedValue: "3.1.2"
