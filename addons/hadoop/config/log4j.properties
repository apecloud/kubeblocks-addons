# Set root logger level to INFO and output to console and file
log4j.rootLogger=INFO, console, file

# Console log output
log4j.appender.console=org.apache.log4j.ConsoleAppender
log4j.appender.console.target=System.err
log4j.appender.console.layout=org.apache.log4j.PatternLayout
log4j.appender.console.layout.ConversionPattern=%d{ISO8601} %-5p %c{2}: %m%n

# File log output
log4j.appender.file=org.apache.log4j.RollingFileAppender
log4j.appender.file.File=${hadoop.log.dir}/hadoop.log
log4j.appender.file.MaxFileSize=256MB
log4j.appender.file.MaxBackupIndex=60
log4j.appender.file.layout=org.apache.log4j.PatternLayout
log4j.appender.file.layout.ConversionPattern=%d{ISO8601} %-5p %c{2}: %m%n

# NameNode log configuration
log4j.logger.org.apache.hadoop.hdfs.server.namenode.NameNode=INFO, namenodeAppender
log4j.appender.namenodeAppender=org.apache.log4j.RollingFileAppender
log4j.appender.namenodeAppender.File=${hadoop.log.dir}/hadoop-hdfs-namenode.log
log4j.appender.namenodeAppender.MaxFileSize=256MB
log4j.appender.namenodeAppender.MaxBackupIndex=60
log4j.appender.namenodeAppender.layout=org.apache.log4j.PatternLayout
log4j.appender.namenodeAppender.layout.ConversionPattern=%d{ISO8601} %-5p %c{2}: %m%n

# DataNode log configuration
log4j.logger.org.apache.hadoop.hdfs.server.datanode.DataNode=INFO, datanodeAppender
log4j.appender.datanodeAppender=org.apache.log4j.RollingFileAppender
log4j.appender.datanodeAppender.File=${hadoop.log.dir}/hadoop-hdfs-datanode.log
log4j.appender.datanodeAppender.MaxFileSize=256MB
log4j.appender.datanodeAppender.MaxBackupIndex=60
log4j.appender.datanodeAppender.layout=org.apache.log4j.PatternLayout
log4j.appender.datanodeAppender.layout.ConversionPattern=%d{ISO8601} %-5p %c{2}: %m%n

# ResourceManager log configuration
log4j.logger.org.apache.hadoop.yarn.server.resourcemanager.ResourceManager=INFO, resourcemanagerAppender
log4j.appender.resourcemanagerAppender=org.apache.log4j.RollingFileAppender
log4j.appender.resourcemanagerAppender.File=${hadoop.log.dir}/hadoop-yarn-resourcemanager.log
log4j.appender.resourcemanagerAppender.MaxFileSize=256MB
log4j.appender.resourcemanagerAppender.MaxBackupIndex=60
log4j.appender.resourcemanagerAppender.layout=org.apache.log4j.PatternLayout
log4j.appender.resourcemanagerAppender.layout.ConversionPattern=%d{ISO8601} %-5p %c{2}: %m%n

# NodeManager log configuration
log4j.logger.org.apache.hadoop.yarn.server.nodemanager.NodeManager=INFO, nodemanagerAppender
log4j.appender.nodemanagerAppender=org.apache.log4j.RollingFileAppender
log4j.appender.nodemanagerAppender.File=${hadoop.log.dir}/hadoop-yarn-nodemanager.log
log4j.appender.nodemanagerAppender.MaxFileSize=256MB
log4j.appender.nodemanagerAppender.MaxBackupIndex=60
log4j.appender.nodemanagerAppender.layout=org.apache.log4j.PatternLayout
log4j.appender.nodemanagerAppender.layout.ConversionPattern=%d{ISO8601} %-5p %c{2}: %m%n

# Log configuration for other components
log4j.logger.org.apache.hadoop.security=INFO
log4j.logger.org.apache.hadoop.ipc=INFO
log4j.logger.org.apache.hadoop.mapred=INFO
log4j.logger.org.apache.hadoop.hdfs=INFO
log4j.logger.org.apache.hadoop.yarn=INFO
