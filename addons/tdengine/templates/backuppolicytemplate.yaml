apiVersion: apps.kubeblocks.io/v1alpha1
kind: BackupPolicyTemplate
metadata:
  name: tdengine-backup-policy-template
  labels:
    {{- include "tdengine.labels" . | nindent 4 }}
spec:
  clusterDefinitionRef: tdengine
  backupPolicies:
  - componentDefs: [tdengine]
    target:
      role: ready
      account: root
    backupMethods:
      - name: dump
        snapshotVolumes: false
        actionSetName: tdengine-dump
        targetVolumes:
          volumeMounts:
            - name: arch
              mountPath: /var/log/taos
    schedules:
      - backupMethod: dump
        enabled: false
        cronExpression: "0 18 * * *"
        retentionPeriod: 7d