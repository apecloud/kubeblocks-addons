name: Release Chart

on:
  workflow_dispatch:
    inputs:
      chart_dir:
        description: 'Only release specify chart dir or empty to release all'
        required: false
        default: ''

env:
  GH_TOKEN: ${{ github.token }}

run-name: Release Chart ${{ inputs.chart_dir }}

jobs:
  release-chart:
    uses: apecloud/apecloud-cd/.github/workflows/release-charts.yml@v0.1.40
    with:
      CHART_DIR: "addons"
      SPECIFY_CHART: "${{ inputs.chart_dir }}"
      APECD_REF: "v0.1.40"
    secrets: inherit
