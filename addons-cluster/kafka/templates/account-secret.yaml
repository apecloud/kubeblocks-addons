{{- if and (.Values.sasl.enable) .Values.sasl.useKBBuildInSasl }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "kafka-broker-accounts-secret-name" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/name: {{ include "kblib.clusterName" . }}
    app.kubernetes.io/instance: {{ .Release.Name }}
    app.kubernetes.io/component: {{ include "kafka-broker-component" . }}
type: Opaque
stringData:
  # accounts: |
  # [mechanism=PLAIN] format:
  #   {accountName}:{md5Password}
  accounts: ""
{{- end }}