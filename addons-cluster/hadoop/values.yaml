# Hadoop HDFS Cluster Configuration

nameOverride: ""

fullnameOverride: ""

# Replicas for each component
replicas:
  core: 1
  journalnode: 1
  namenode: 2
  datanode: 1
  zookeeper: 1
  resourcemanager: 2
  nodemanager: 1

serviceVersion: 3.3.4

zookeeperServiceVersion: 3.9.2

# Resource requirements for each component
resources:
  core:
    requests:
      cpu: "0.5"
      memory: 0.5Gi
    limits:
      cpu: "0.5"
      memory: 2Gi
  journalnode:
    requests:
      cpu: "0.1"
      memory: 0.5Gi
    limits:
      cpu: "0.5"
      memory: 2Gi
  namenode:
    requests:
      cpu: "0.1"
      memory: 0.5Gi
    limits:
      cpu: "0.5"
      memory: 2Gi
  datanode:
    requests:
      cpu: "0.1"
      memory: 0.5Gi
    limits:
      cpu: "0.5"
      memory: 2Gi
  nodemanager:
    requests:
      cpu: "0.1"
      memory: 0.5Gi
    limits:
      cpu: "0.5"
      memory: 2Gi
  resourcemanager:
    requests:
      cpu: "0.1"
      memory: 0.5Gi
    limits:
      cpu: "0.5"
      memory: 2Gi
  zookeeper:
    requests:
      cpu: "0.1"
      memory: 0.5Gi
    limits:
      cpu: "0.5"
      memory: 2Gi

# Storage requirements for each component
storage:
  journalnode: 10Gi
  namenode: 10Gi
  datanode: 30Gi
  nodemanager: 20Gi
  resourcemanager: 20Gi

# Service references for external dependencies
serviceRefs:
  hadoopZookeeper:
    namespace: default
    clusterServiceSelector:
      cluster: zkcluster
      service:
        component: zookeeper
        service: headless
        port: client

# Service account configuration
serviceAccount:
  name: kb-hadoop-cluster
  create: true

# Advanced configurations
terminationPolicy: Delete
clusterDef: hadoop-hdfs
# enum values: ha-cluster, ha-ref-zk-cluster
# default: ha-cluster, will create a zk instance for hadoop
# ha-ref-zk-cluster: need specify the serviceRefs of the already existed zk cluster
topology: ha-cluster
